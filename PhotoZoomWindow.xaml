<Window x:Class="PhotoGallery.PhotoZoomWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Photo Viewer" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#1A1A1A"
        KeyDown="Window_KeyDown">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2A2A2A"
                BorderBrush="#3A3A3A" BorderThickness="0,0,0,1"
                Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="PhotoNameText"
                           Grid.Column="0"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Foreground="White"
                           VerticalAlignment="Center"/>

                <Button Grid.Column="1"
                        Content="Close"
                        Click="Close_Click"
                        Width="80"/>
            </Grid>
        </Border>

        <!-- Photo Viewer with Zoom and Pan -->
        <Border Grid.Row="1" Background="#1A1A1A">
            <ScrollViewer x:Name="PhotoScroller"
                         HorizontalScrollBarVisibility="Auto"
                         VerticalScrollBarVisibility="Auto"
                         Background="Transparent">
                <Grid>
                    <Image x:Name="PhotoImage"
                           Stretch="Uniform"
                           RenderTransformOrigin="0.5,0.5"
                           MouseWheel="PhotoImage_MouseWheel"
                           MouseLeftButtonDown="PhotoImage_MouseLeftButtonDown"
                           MouseLeftButtonUp="PhotoImage_MouseLeftButtonUp"
                           MouseMove="PhotoImage_MouseMove"
                           Cursor="Hand">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform x:Name="ScaleTransform"/>
                                <TranslateTransform x:Name="TranslateTransform"/>
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>
                </Grid>
            </ScrollViewer>
        </Border>

        <!-- Controls Footer -->
        <Border Grid.Row="2" Background="#2A2A2A"
                BorderBrush="#3A3A3A" BorderThickness="0,1,0,0"
                Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Zoom: "
                               Foreground="#CCCCCC"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>
                    <Button Content="−"
                            Width="35" Height="35"
                            Click="ZoomOut_Click"
                            Margin="0,0,5,0"/>
                    <TextBlock x:Name="ZoomLevelText"
                               Text="100%"
                               Foreground="White"
                               VerticalAlignment="Center"
                               MinWidth="60"
                               TextAlignment="Center"
                               Margin="5,0"/>
                    <Button Content="+"
                            Width="35" Height="35"
                            Click="ZoomIn_Click"
                            Margin="5,0,15,0"/>
                    <Button Content="Reset"
                            Click="ResetZoom_Click"
                            Margin="0,0,5,0"/>
                </StackPanel>

                <TextBlock Grid.Column="1"
                           Text="Use mouse wheel to zoom • Drag to pan • ESC to close"
                           Foreground="#888888"
                           FontSize="11"
                           VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>
